{"version":3,"file":"FeaturedWork-CzcO9QXJ.js","sources":["../../src/components/FeaturedWork.jsx"],"sourcesContent":["// src/components/FeaturedWork.jsx\r\nimport React, { memo, useEffect, useRef, useState, Suspense } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// Data (unchanged except small typo fix)\r\nconst items = [\r\n  {\r\n    id: \"safeway-b2b-portal\",\r\n    tagPrimary: \"Website\",\r\n    tagSecondary: \"Branding\",\r\n    title: \"Safeway (Albertsons)\",\r\n    blurb:\r\n      \"Website Redesign & B2B Customer Experience for a National Grocery Brand\",\r\n    image:\r\n      \"https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?q=80&w=2400&auto=format&fit=crop\",\r\n    caseHref: \"/work/safeway-b2b-portal\",\r\n  },\r\n  {\r\n    id: \"mostardi-platt\",\r\n    tagPrimary: \"Website\",\r\n    tagSecondary: \"Branding\",\r\n    title: \"Mostardi Platt\",\r\n    blurb:\r\n      \"Website Design & Brand Refresh for an Environmental Consultancy\",\r\n    image:\r\n      \"https://images.unsplash.com/photo-1498050108023-c5249f4df085?q=80&w=2400&auto=format&fit=crop\",\r\n    caseHref: \"/work/mostardi-platt\",\r\n  },\r\n  {\r\n    id: \"arcelormittal\",\r\n    tagPrimary: \"Website\",\r\n    title: \"ArcelorMittal\",\r\n    blurb: \"Website Design for the World’s Leading Steel Manufacturer\",\r\n    image:\r\n      \"https://images.unsplash.com/photo-1527443154391-507e9dc6c5cc?q=80&w=2400&auto=format&fit=crop\",\r\n    caseHref: \"/work/arcelormittal\",\r\n  },\r\n  {\r\n    id: \"flipp\",\r\n    tagPrimary: \"Website\",\r\n    title: \"Flipp\",\r\n    blurb: \"Web Design and Development for a Professional Business\",\r\n    image:\r\n      \"https://images.unsplash.com/photo-1519389950473-47ba0277781c?q=80&w=2400&auto=format&fit=crop\",\r\n    caseHref: \"/work/flipp\",\r\n  },\r\n  {\r\n    id: \"2992-sheppard\",\r\n    tagSecondary: \"Branding\",\r\n    title: \"2992 Sheppard\",\r\n    blurb: \"Branding for Real Estate Project\",\r\n    image:\r\n      \"https://images.unsplash.com/photo-1496307042754-b4aa456c4a2d?q=80&w=2400&auto=format&fit=crop\",\r\n    caseHref: \"/work/2992-sheppard\",\r\n  },\r\n  {\r\n    id: \"brandvision\",\r\n    tagSecondary: \"Branding\",\r\n    title: \"NextStac\",\r\n    blurb: \"Brand identity and campaign design for a creative agency\",\r\n    image:\r\n      \"https://images.unsplash.com/photo-1556761175-4b46a572b786?q=80&w=2400&auto=format&fit=crop\",\r\n    caseHref: \"/work/brandvision\",\r\n  },\r\n];\r\n\r\n// ---- Small util to gate mount until near viewport\r\nfunction LazyMount({ children, rootMargin = \"250px 0px\", minHeight = 320 }) {\r\n  const [show, setShow] = useState(false);\r\n  const ref = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (show) return;\r\n    const el = ref.current;\r\n    if (!el) return;\r\n\r\n    const obs = new IntersectionObserver(\r\n      ([e]) => {\r\n        if (e.isIntersecting) {\r\n          setShow(true);\r\n          obs.disconnect();\r\n        }\r\n      },\r\n      { rootMargin }\r\n    );\r\n    obs.observe(el);\r\n    return () => obs.disconnect();\r\n  }, [show, rootMargin]);\r\n\r\n  return (\r\n    <div ref={ref} style={{ minHeight: show ? undefined : minHeight }}>\r\n      {show ? children : null}\r\n    </div>\r\n  );\r\n}\r\n\r\n// ---- Project card (memoized)\r\nconst ProjectCard = memo(function ProjectCard({\r\n  tagPrimary,\r\n  tagSecondary,\r\n  title,\r\n  blurb,\r\n  image,\r\n  caseHref,\r\n  liveHref,\r\n  eager = false, // first card eager, rest lazy\r\n}) {\r\n  // Create a responsive srcSet from the base Unsplash URL\r\n  const base = image.split(\"?\")[0];\r\n  const query = \"q=80&auto=format&fit=crop\";\r\n  const srcSet = [\r\n    `${base}?${query}&w=640 640w`,\r\n    `${base}?${query}&w=960 960w`,\r\n    `${base}?${query}&w=1280 1280w`,\r\n    `${base}?${query}&w=1600 1600w`,\r\n    `${base}?${query}&w=2000 2000w`,\r\n    `${base}?${query}&w=2400 2400w`,\r\n  ].join(\", \");\r\n\r\n  return (\r\n    <article className=\"group relative overflow-hidden rounded-[20px]\">\r\n      {/* Keep a stable box to avoid CLS */}\r\n      <div className=\"relative w-full aspect-[16/9] md:aspect-[21/9]\">\r\n        <img\r\n          src={`${base}?${query}&w=1600`}\r\n          srcSet={srcSet}\r\n          sizes=\"(min-width: 1024px) 100vw, 100vw\"\r\n          alt={title}\r\n          className=\"absolute inset-0 h-full w-full object-cover transition-transform duration-500 group-hover:scale-[1.02]\"\r\n          loading={eager ? \"eager\" : \"lazy\"}\r\n          decoding=\"async\"\r\n          fetchpriority={eager ? \"high\" : \"low\"}\r\n        />\r\n      </div>\r\n\r\n      {/* Overlays */}\r\n      <div className=\"pointer-events-none absolute inset-0\">\r\n        <div className=\"absolute inset-x-0 bottom-0 h-1/2 bg-gradient-to-t from-black/80 via-black/40 to-transparent\" />\r\n        <div className=\"absolute inset-y-0 right-0 w-1/3 bg-gradient-to-l from-black/40 to-transparent\" />\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div className=\"absolute inset-x-0 bottom-0 p-5 sm:p-7 md:p-9\">\r\n        <div className=\"flex flex-col md:flex-row md:items-end md:justify-between gap-5\">\r\n          <div className=\"max-w-2xl\">\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {tagPrimary && (\r\n                <span className=\"rounded-full bg-white/15 px-2.5 py-1 text-[11px] uppercase tracking-wide text-white ring-1 ring-white/20\">\r\n                  {tagPrimary}\r\n                </span>\r\n              )}\r\n              {tagSecondary && (\r\n                <span className=\"rounded-full bg-white/15 px-2.5 py-1 text-[11px] uppercase tracking-wide text-white ring-1 ring-white/20\">\r\n                  {tagSecondary}\r\n                </span>\r\n              )}\r\n            </div>\r\n\r\n            <h3 className=\"mt-3 text-2xl md:text-3xl font-semibold text-white drop-shadow-sm\">\r\n              {title}\r\n            </h3>\r\n            <p className=\"mt-2 text-sm md:text-base text-white/85 max-w-xl\">\r\n              {blurb}\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"flex flex-wrap gap-3\">\r\n            <Link\r\n              to={caseHref || \"#\"}\r\n              className=\"inline-flex items-center gap-2 rounded-full bg-white px-4 py-2 text-sm font-semibold text-slate-900 shadow-md hover:shadow-lg transition whitespace-nowrap\"\r\n            >\r\n              Read Our Case\r\n              <Chevron />\r\n            </Link>\r\n\r\n            {liveHref && (\r\n              <a\r\n                href={liveHref}\r\n                target=\"_blank\"\r\n                rel=\"noreferrer\"\r\n                className=\"inline-flex items-center gap-2 rounded-full bg-black/70 px-4 py-2 text-sm font-semibold text-white ring-1 ring-white/20 backdrop-blur hover:bg-black/80 transition whitespace-nowrap\"\r\n              >\r\n                Live Site\r\n                <Chevron />\r\n              </a>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n});\r\n\r\nfunction Chevron() {\r\n  return (\r\n    <svg viewBox=\"0 0 24 24\" className=\"h-3 w-3\">\r\n      <g strokeWidth=\"2.5\" fill=\"none\" stroke=\"currentColor\">\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          d=\"m8.25 4.5 7.5 7.5-7.5 7.5\"\r\n        />\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default function FeaturedWork() {\r\n  return (\r\n    <section className=\"section bg-slate-100 py-16 lg:py-24\">\r\n      <div className=\"mx-auto w-full max-w-[90rem] px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"grid grid-cols-12 gap-8 lg:gap-10\">\r\n          {/* Left aside — sticky only on lg+ */}\r\n          <aside className=\"col-span-12 lg:col-span-3 self-start relative z-10 lg:sticky lg:top-24\">\r\n            <div className=\"space-y-6\">\r\n              <div>\r\n                <span className=\"text-2xl tracking-wide uppercase text-slate-500\">\r\n                  Featured Work\r\n                </span>\r\n                <h2 className=\"mt-3 text-2xl leading-snug text-slate-900 font-medium\">\r\n                  Our goal is to nurture your vision and provide innovative,\r\n                  custom solutions for all your marketing needs.\r\n                </h2>\r\n              </div>\r\n\r\n              <div className=\"flex flex-wrap gap-3\">\r\n                <Link\r\n                  to=\"/proposalrequest\"\r\n                  className=\"inline-flex items-center gap-2 rounded-full bg-blue-600 px-4 py-2 text-white text-sm font-semibold hover:bg-blue-700 transition whitespace-nowrap\"\r\n                >\r\n                  <span>Request a Proposal</span>\r\n                  <Chevron />\r\n                </Link>\r\n                <Link\r\n                  to=\"/contact\"\r\n                  className=\"inline-flex items-center gap-2 rounded-full border border-slate-300 px-4 py-2 text-slate-800 text-sm font-semibold hover:bg-slate-50 transition whitespace-nowrap\"\r\n                >\r\n                  <span>Contact Us</span>\r\n                  <Chevron />\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </aside>\r\n\r\n          {/* Right — project cards */}\r\n          <div className=\"col-span-12 lg:col-span-9 space-y-10 relative z-0\">\r\n            {/* First card eager for instant visual */}\r\n            {items.length > 0 && <ProjectCard {...items[0]} eager />}\r\n\r\n            {/* Rest gated by IO to avoid main-thread work until scrolled */}\r\n            {items.slice(1).map((p) => (\r\n              <LazyMount key={p.id} minHeight={280}>\r\n                <Suspense fallback={null /* tiny, avoids extra work */}>\r\n                  <ProjectCard {...p} />\r\n                </Suspense>\r\n              </LazyMount>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n"],"names":["items","LazyMount","children","rootMargin","minHeight","show","setShow","useState","ref","useRef","useEffect","el","obs","e","jsx","ProjectCard","memo","tagPrimary","tagSecondary","title","blurb","image","caseHref","liveHref","eager","base","query","srcSet","jsxs","Link","Chevron","FeaturedWork","p","Suspense"],"mappings":"sDAKA,MAAMA,EAAQ,CACZ,CACE,GAAI,qBACJ,WAAY,UACZ,aAAc,WACd,MAAO,uBACP,MACE,0EACF,MACE,gGACF,SAAU,0BAAA,EAEZ,CACE,GAAI,iBACJ,WAAY,UACZ,aAAc,WACd,MAAO,iBACP,MACE,kEACF,MACE,gGACF,SAAU,sBAAA,EAEZ,CACE,GAAI,gBACJ,WAAY,UACZ,MAAO,gBACP,MAAO,4DACP,MACE,gGACF,SAAU,qBAAA,EAEZ,CACE,GAAI,QACJ,WAAY,UACZ,MAAO,QACP,MAAO,yDACP,MACE,gGACF,SAAU,aAAA,EAEZ,CACE,GAAI,gBACJ,aAAc,WACd,MAAO,gBACP,MAAO,mCACP,MACE,gGACF,SAAU,qBAAA,EAEZ,CACE,GAAI,cACJ,aAAc,WACd,MAAO,WACP,MAAO,2DACP,MACE,6FACF,SAAU,mBAAA,CAEd,EAGA,SAASC,EAAU,CAAE,SAAAC,EAAU,WAAAC,EAAa,YAAa,UAAAC,EAAY,KAAO,CAC1E,KAAM,CAACC,EAAMC,CAAO,EAAIC,EAAAA,SAAS,EAAK,EAChCC,EAAMC,EAAAA,OAAO,IAAI,EAEvBC,OAAAA,EAAAA,UAAU,IAAM,CACd,GAAIL,EAAM,OACV,MAAMM,EAAKH,EAAI,QACf,GAAI,CAACG,EAAI,OAET,MAAMC,EAAM,IAAI,qBACd,CAAC,CAACC,CAAC,IAAM,CACHA,EAAE,iBACJP,EAAQ,EAAI,EACZM,EAAI,WAAA,EAER,EACA,CAAE,WAAAT,CAAA,CAAW,EAEf,OAAAS,EAAI,QAAQD,CAAE,EACP,IAAMC,EAAI,WAAA,CACnB,EAAG,CAACP,EAAMF,CAAU,CAAC,EAGnBW,EAAAA,IAAC,MAAA,CAAI,IAAAN,EAAU,MAAO,CAAE,UAAWH,EAAO,OAAYD,CAAA,EACnD,SAAAC,EAAOH,EAAW,IAAA,CACrB,CAEJ,CAGA,MAAMa,EAAcC,EAAAA,KAAK,SAAqB,CAC5C,WAAAC,EACA,aAAAC,EACA,MAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,SAAAC,EACA,MAAAC,EAAQ,EACV,EAAG,CAED,MAAMC,EAAOJ,EAAM,MAAM,GAAG,EAAE,CAAC,EACzBK,EAAQ,4BACRC,EAAS,CACb,GAAGF,CAAI,IAAIC,CAAK,cAChB,GAAGD,CAAI,IAAIC,CAAK,cAChB,GAAGD,CAAI,IAAIC,CAAK,gBAChB,GAAGD,CAAI,IAAIC,CAAK,gBAChB,GAAGD,CAAI,IAAIC,CAAK,gBAChB,GAAGD,CAAI,IAAIC,CAAK,eAAA,EAChB,KAAK,IAAI,EAEX,OACEE,EAAAA,KAAC,UAAA,CAAQ,UAAU,gDAEjB,SAAA,CAAAd,EAAAA,IAAC,MAAA,CAAI,UAAU,iDACb,SAAAA,EAAAA,IAAC,MAAA,CACC,IAAK,GAAGW,CAAI,IAAIC,CAAK,UACrB,OAAAC,EACA,MAAM,mCACN,IAAKR,EACL,UAAU,yGACV,QAASK,EAAQ,QAAU,OAC3B,SAAS,QACT,cAAeA,EAAQ,OAAS,KAAA,CAAA,EAEpC,EAGAI,EAAAA,KAAC,MAAA,CAAI,UAAU,uCACb,SAAA,CAAAd,EAAAA,IAAC,MAAA,CAAI,UAAU,8FAAA,CAA+F,EAC9GA,EAAAA,IAAC,MAAA,CAAI,UAAU,gFAAA,CAAiF,CAAA,EAClG,QAGC,MAAA,CAAI,UAAU,gDACb,SAAAc,EAAAA,KAAC,MAAA,CAAI,UAAU,kEACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,uBACZ,SAAA,CAAAX,GACCH,EAAAA,IAAC,OAAA,CAAK,UAAU,2GACb,SAAAG,EACH,EAEDC,GACCJ,EAAAA,IAAC,OAAA,CAAK,UAAU,2GACb,SAAAI,CAAA,CACH,CAAA,EAEJ,EAEAJ,EAAAA,IAAC,KAAA,CAAG,UAAU,oEACX,SAAAK,EACH,EACAL,EAAAA,IAAC,IAAA,CAAE,UAAU,mDACV,SAAAM,CAAA,CACH,CAAA,EACF,EAEAQ,EAAAA,KAAC,MAAA,CAAI,UAAU,uBACb,SAAA,CAAAA,EAAAA,KAACC,EAAA,CACC,GAAIP,GAAY,IAChB,UAAU,6JACX,SAAA,CAAA,sBAEEQ,EAAA,CAAA,CAAQ,CAAA,CAAA,CAAA,EAGVP,GACCK,EAAAA,KAAC,IAAA,CACC,KAAML,EACN,OAAO,SACP,IAAI,aACJ,UAAU,uLACX,SAAA,CAAA,kBAEEO,EAAA,CAAA,CAAQ,CAAA,CAAA,CAAA,CACX,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,CAEJ,CAAC,EAED,SAASA,GAAU,CACjB,OACEhB,EAAAA,IAAC,MAAA,CAAI,QAAQ,YAAY,UAAU,UACjC,SAAAA,EAAAA,IAAC,IAAA,CAAE,YAAY,MAAM,KAAK,OAAO,OAAO,eACtC,SAAAA,EAAAA,IAAC,OAAA,CACC,cAAc,QACd,eAAe,QACf,EAAE,2BAAA,CAAA,EAEN,CAAA,CACF,CAEJ,CAEA,SAAwBiB,GAAe,CACrC,OACEjB,EAAAA,IAAC,UAAA,CAAQ,UAAU,sCACjB,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,oDACb,SAAAc,EAAAA,KAAC,MAAA,CAAI,UAAU,oCAEb,SAAA,CAAAd,EAAAA,IAAC,SAAM,UAAU,yEACf,SAAAc,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAd,EAAAA,IAAC,OAAA,CAAK,UAAU,kDAAkD,SAAA,gBAElE,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,wDAAwD,SAAA,2GAAA,CAGtE,CAAA,EACF,EAEAc,EAAAA,KAAC,MAAA,CAAI,UAAU,uBACb,SAAA,CAAAA,EAAAA,KAACC,EAAA,CACC,GAAG,mBACH,UAAU,oJAEV,SAAA,CAAAf,EAAAA,IAAC,QAAK,SAAA,oBAAA,CAAkB,QACvBgB,EAAA,CAAA,CAAQ,CAAA,CAAA,CAAA,EAEXF,EAAAA,KAACC,EAAA,CACC,GAAG,WACH,UAAU,oKAEV,SAAA,CAAAf,EAAAA,IAAC,QAAK,SAAA,YAAA,CAAU,QACfgB,EAAA,CAAA,CAAQ,CAAA,CAAA,CAAA,CACX,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,EAGAF,EAAAA,KAAC,MAAA,CAAI,UAAU,oDAEZ,SAAA,CAAA5B,EAAM,OAAS,GAAKc,EAAAA,IAACC,EAAA,CAAa,GAAGf,EAAM,CAAC,EAAG,MAAK,EAAA,CAAC,EAGrDA,EAAM,MAAM,CAAC,EAAE,IAAKgC,GACnBlB,EAAAA,IAACb,EAAA,CAAqB,UAAW,IAC/B,eAACgC,WAAA,CAAS,SAAU,KAClB,SAAAnB,EAAAA,IAACC,EAAA,CAAa,GAAGiB,EAAG,CAAA,CACtB,GAHcA,EAAE,EAIlB,CACD,CAAA,CAAA,CACH,CAAA,CAAA,CACF,EACF,EACF,CAEJ"}